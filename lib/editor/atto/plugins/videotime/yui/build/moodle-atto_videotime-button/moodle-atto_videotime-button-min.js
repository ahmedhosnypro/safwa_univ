YUI.add("moodle-atto_videotime-button",function(i,t){var n="atto_videotime",o={BUTTON:"atto_videotime_embed"};i.namespace("M.atto_videotime").Button=i.Base.create("button",i.M.editor_atto.EditorPlugin,[],{_currentSelection:null,initializer:function(){this.addButton({buttonName:"videotime_embed",callback:this._displayDialogue,icon:"icon",iconComponent:"atto_videotime",title:"pluginname"})},_displayDialogue:function(){if(this._currentSelection=this.get("host").getSelection(),!1!==this._currentSelection){var t=this.getDialogue({headerContent:M.util.get_string("pluginname",n),width:"800px",focusAfterHide:!0});t.set("bodyContent",this._getDialogueContent()),t.show()}},_getDialogueContent:function(){var t=i.Handlebars.compile('<table class="table"><tbody>{{#each instances}}<tr><td>{{name}}</td><td><button class="{{../CSS.BUTTON}} btn btn-primary" data-cmid="{{cmid}}">{{{get_string "embed" ../component}}}</button></td></tr>{{/each}}</tbody></table>'),e=i.Node.create(t({component:n,CSS:o,instances:this.get("instances")}));return e.delegate("click",this._insertShortcode,"."+o.BUTTON,this),e},_insertShortcode:function(t){var e,i=t.target.getData("cmid");this.getDialogue({focusAfterHide:null}).hide(),(e=this.get("host")).setSelection(this._currentSelection),e.insertContentAtFocusPoint('[videotime cmid="'+i+'"]'),this.markUpdated()}},{ATTRS:{instances:{value:{}}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});