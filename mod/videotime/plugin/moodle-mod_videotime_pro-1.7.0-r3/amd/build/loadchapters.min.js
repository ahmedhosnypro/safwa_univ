define("videotimeplugin_pro/loadchapters",["exports","mod_videotime/videotime-plugin","core/notification","core/templates"],(function(_exports,_videotimePlugin,_notification,_templates){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/*
   * Load chapters into tab
   *
   * @package    videotimetab_chapter
   * @module     videotimetab_chapter/loadchapters
   * @copyright  2022 bdecent gmbh <https://bdecent.de>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_videotimePlugin=_interopRequireDefault(_videotimePlugin),_notification=_interopRequireDefault(_notification),_templates=_interopRequireDefault(_templates);class PreventFastForwarding extends _videotimePlugin.default{initialize(videotime,instance){let player=videotime.getPlayer();player.on("loaded",(()=>{let container=document.querySelector("#chapter-"+instance.id+" .videotimetabs_chapters");container&&player.getChapters().then((chapters=>{chapters.forEach((chapter=>{let s=Math.floor(Number(chapter.startTime));chapter.starttimedisplay=s>=3600?Math.floor(s/3600).toString().padStart(2,"0")+":"+Math.floor(s%3600/60).toString().padStart(2,"0")+":"+Math.floor(s%60).toString().padStart(2,"0"):s>=60?Math.floor(s%3600/60).toString()+":"+Math.floor(s%60).toString().padStart(2,"0"):Math.floor(s%60).toString(),player.addCuePoint(chapter.startTime,{starttime:chapter.startTime})})),_templates.default.render("videotimetab_chapter/chapters",{chapters:chapters}).then(_templates.default.replaceNodeContents.bind(_templates.default,container)).fail(_notification.default.exception)})).catch(_notification.default.exception)}))}}return _exports.default=PreventFastForwarding,_exports.default}));

//# sourceMappingURL=loadchapters.min.js.map