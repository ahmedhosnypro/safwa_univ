define(["jquery","core/ajax","core/notification"],function(a,b,c){return{setupActivitites:function(){var b=a("#id_config_trackingmethod"),c=function(){a('[data-block-completion-levels-role="nocompletion-message"]').toggle("0"==b.val()),a('[data-block-completion-levels-role="nograde-message"]').toggle("1"==b.val())};b.change(c),c(),a('[data-block-completion-levels-role="trackall"]').click(function(){a('[data-block-completion-levels-role="trackactivity-checkbox"][data-block-completion-levels-section="'+a(this).data("block-completion-levels-section")+'"]:not([disabled])').prop("checked",a(this).data("block-completion-levels-dotrack")).change(),M.form.updateFormState(a(this).closest("form").attr("id"))});var d=a("<div>",{class:"d-inline-block text-info ml-1"}).html(M.util.get_string("totalweight","block_completion_levels","<span></span>")),e=function(){var b=0;a('[data-block-completion-levels-role="activityweight-text"]:not([disabled])').each(function(){b+=Number(a(this).val())}),d.find("span").html(b)};b.after(d),setInterval(e,1e3),a('[data-block-completion-levels-role="activityweight-text"]').focus(function(){d.insertAfter(a(this)),e()}).blur(function(){d.insertAfter(b)}).on("input",e),a('[data-block-completion-levels-role="trackactivity-checkbox"]').change(e)},setupCustomBadges:function(d){var e=a('[data-block-completion-levels-role="delete-custom-pix"]');e.click(function(f){M.util.show_confirm_dialog(f,{message:M.util.get_string("deletebadgeconfirmation","block_completion_levels"),callback:function(){b.call([{methodname:"block_completion_levels_delete_custom_pix",args:{contextid:d,draftitemid:a('input[name="config_levels_pix"]').val()},done:function(){a('.pix-preview[data-source="custom"]').remove(),e.remove(),document.querySelector("#fitem_id_config_levels_pix .fp-path-folder-name").click()},fail:c.exception}])}})}).show()}}});
//# sourceMappingURL=editform.min.js.map